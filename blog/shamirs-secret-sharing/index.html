<!doctype html><html lang=en data-theme=light class=h-full><head><script>{const e=localStorage.theme;if(e!==null)document.documentElement.setAttribute("data-theme",e);else{const e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";document.documentElement.setAttribute("data-theme",e)}}</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-CXYG0Q9PH0"></script><script>var dnt,doNotTrack=!1;if(!0&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-CXYG0Q9PH0")}</script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=stylesheet type=text/css href=https://madebyme.today/stylesheets/output.min.de440b9539873575bcfac1d962554af2aa526b47458ddc761d99cb838fd85b9420bb2441cec1396890cd20977dfd649fe4f6ea26c4ddafe8b653d97ff76dc4f7.css integrity="sha512-3kQLlTmHNXW8+sHZYlVK8qpSa0dFjdx2HZnLg4/YW5QguyRBzsE5aJDNIJd9/WSf5PbqJsTdr+i2U9l/923E9w=="><link rel=stylesheet type=text/css href=https://madebyme.today/stylesheets/syntax/light.min.f8c5af1bbcb050c9a0f9bc73e6a627b23a8825d8537cb416518426e6d791257ade4676cd57fcabcbb1542e43618a986520126eae9a236ba2937a49b8db8968f0.css integrity="sha512-+MWvG7ywUMmg+bxz5qYnsjqIJdhTfLQWUYQm5teRJXreRnbNV/yry7FULkNhiphlIBJurpoja6KTekm424lo8A=="><link rel=stylesheet type=text/css href=https://madebyme.today/stylesheets/syntax/dark.min.e82275a221c102f04ff48a5a0444f4753cd8fe31e437176a94bb4d1f80d0fce5027a1414ad6ad9d0b8ab893f421c6cf15be886ffb228b55cd8cd85399d60ef99.css integrity="sha512-6CJ1oiHBAvBP9IpaBET0dTzY/jHkNxdqlLtNH4DQ/OUCehQUrWrZ0LiriT9CHGzxW+iG/7IotVzYzYU5nWDvmQ=="><link rel=icon href=/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://madebyme.today/favicons/favicon-16x16-box-light.png><link rel=icon type=image/png sizes=32x32 href=https://madebyme.today/favicons/favicon-32x32-box-light.png><link rel=icon type=image/png sizes=64x64 href=https://madebyme.today/favicons/favicon-64x64-box-light.png><link rel=apple-touch-icon sizes=180x180 href=https://madebyme.today/favicons/favicon-180x180-box-light.png><link rel=stylesheet href=/3rd-party/katex@v0.16.9/katex.min.css><script defer src=/3rd-party/katex@v0.16.9/katex.min.js></script><script defer src=/3rd-party/katex@v0.16.9/contrib/auto-render.min.js></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],throwOnError:!1})})</script><link rel=canonical href=https://madebyme.today/blog/shamirs-secret-sharing/><link rel=alternate type=application/rss+xml href=https://madebyme.today/index.xml title=MadeByMe><meta name=description content="Have you ever wondered how to protect your master password from getting lost? Or how to create a perfect democracy
where nuke access is shared between most important people in the government equally? Or how to achieve immortality by
splitting your soul and putting the pieces into objects? &#x1fa84;
If so, then you&rsquo;ve come to the right place. Join me, my friend, on this discovery of Shamir&rsquo;s secret sharing."><meta name=author content="Kamil Rusin"><meta name=msapplication-TileColor content="#f5f5f5"><meta name=theme-color content="#f5f5f5"><meta name=twitter:dnt content="on"><meta name=title property="og:title" content="How to Become Immortal 101: Shamir's Secret Sharing"><meta property="og:description" content="
        
            Have you ever wondered how to protect your master password from getting lost? Or how to create a perfect democracy
where nuke access is shared between most important people in the government equally? Or how to achieve immortality by
splitting your soul and putting the pieces into objects? &#x1fa84;
If so, then you&rsquo;ve come to the right place. Join me, my friend, on this discovery of Shamir&rsquo;s secret sharing.
        
    "><meta property="og:type" content="
        article
    "><meta property="og:url" content="https://madebyme.today/blog/shamirs-secret-sharing/"><meta name=image property="og:image" content="https://madebyme.today/polaris-1920x1080.webp"><meta name=image property="og:image:secure_url" content="https://madebyme.today/polaris-1920x1080.webp"><meta property="article:section" content="blog"><meta property="article:published_time" content="2024-08-21T19:55:43+02:00"><meta property="article:modified_time" content="2024-08-21T19:55:43+02:00"><meta property="article:author" content="Kamil Rusin"><meta property="og:site_name" content="MadeByMe"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://madebyme.today/polaris-1920x1080.webp"><meta name=twitter:title content="How to Become Immortal 101: Shamir's Secret Sharing"><meta name=twitter:description content="Have you ever wondered how to protect your master password from getting lost? Or how to create a perfect democracy where nuke access is shared between most important people in the government equally? Or how to achieve immortality by splitting your soul and putting the pieces into objects? ü™Ñ
If so, then you‚Äôve come to the right place. Join me, my friend, on this discovery of Shamir‚Äôs secret sharing."><meta name=twitter:site content="@AreElectrons"><meta name=generator content="Hugo 0.133.0"><title>How to Become Immortal 101: Shamir's Secret Sharing - MadeByMe</title>
<script>const themeToColor={light:"#F5F5F5",dark:"#2A303C"},giscusSendMessage=e=>{const t=document.querySelector("iframe.giscus-frame");if(!t)return;t.contentWindow.postMessage({giscus:e},"https://giscus.app")},getTheme=()=>{const e=localStorage.getItem("theme");return e!==null?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"},setTheme=e=>{localStorage.setItem("theme",e),reloadTheme(e)},reloadTheme=e=>{document.documentElement.setAttribute("data-theme",e),updateThemeCheckboxStatus(),giscusSendMessage({setConfig:{theme:getTheme()}});const t=themeToColor[e];document.querySelector('meta[name="theme-color"]').setAttribute("content",t),document.querySelector('meta[name="msapplication-TileColor"]').setAttribute("content",t)},setUserTheme=e=>{const t=e.checked?"dark":"light";setTheme(t)},updateThemeCheckboxStatus=()=>{const e=document.getElementById("theme-checkbox");e.checked=getTheme()==="dark"};window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{reloadTheme(getTheme())})</script><script>let FF_FOUC_FIX</script></head><body class="h-full flex flex-col"><nav class="navbar justify-between bg-base-100"><div class=navbar-start><div class=dropdown><div tabindex=0 role=button class="btn btn-ghost lg:hidden" aria-label=Menu><svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentcolor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h8m-8 6h16"/></svg></div><ul tabindex=0 class="menu dropdown-content bg-base-100 rounded-box z-[1] mt-3 w-52 p-2 shadow"><li><a href=https://madebyme.today/blog/ title=Blog class=nav-link>Blog</a></li><li><a href=https://madebyme.today/projects/ title=Projects class=nav-link>Projects</a></li><li><a href=https://jungle.madebyme.today/ title="Welcome to the üå¥ Jungle!" class=nav-link>üå¥ Jungle</a></li><li><a href=https://madebyme.today/cv/ title=Resum√© class=nav-link>Resum√©</a></li></ul></div><a class="btn btn-ghost text-xl flex flex-col text-primary font-bold" href=https://madebyme.today/>MadeByMe</a></div><div><div class="hidden lg:flex"><ul class="menu menu-horizontal px-1"><li><a href=https://madebyme.today/blog/ title=Blog class=nav-link>Blog</a></li><li><a href=https://madebyme.today/projects/ title=Projects class=nav-link>Projects</a></li><li><a href=https://jungle.madebyme.today/ title="Welcome to the üå¥ Jungle!" class=nav-link>üå¥ Jungle</a></li><li><a href=https://madebyme.today/cv/ title=Resum√© class=nav-link>Resum√©</a></li></ul></div><label class="flex cursor-pointer gap-2" aria-label="Change theme"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><path d="M12 1v2m0 18v2M4.2 4.2l1.4 1.4M18.4 18.4l1.4 1.4M1 12h2m18 0h2M4.2 19.8l1.4-1.4M18.4 5.6l1.4-1.4"/></svg>
<input id=theme-checkbox type=checkbox value=dark aria-label="Change theme" onchange=setUserTheme(this) class="toggle theme-controller bg-primary-500 hover:bg-primary-500 dark:bg-darkmode-primary-500 dark:hover:bg-darkmode-primary-500"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></label></div></nav><main class="grow md:container px-6 !max-w-3xl"><nav class="breadcrumbs text-sm"><script type=application/ld+json>{"@context":"https://schema.org/","@type":"BreadcrumbList","itemListOrder":"ItemListOrderAscending","itemListElement":[{"@context":"https://schema.org/","@type":"ListItem","position":1,"name":"MadeByMe","item":"https://madebyme.today/","url":"https://madebyme.today/blog/shamirs-secret-sharing/"},{"@context":"https://schema.org/","@type":"ListItem","position":2,"name":"Blog","item":"https://madebyme.today/blog/","url":"https://madebyme.today/blog/shamirs-secret-sharing/"},{"@context":"https://schema.org/","@type":"ListItem","position":3,"name":"How to Become Immortal 101: Shamir's Secret Sharing","item":"https://madebyme.today/blog/shamirs-secret-sharing/","url":"https://madebyme.today/blog/shamirs-secret-sharing/"}]}</script><ul><li><a class=hover:decoration-dashed href=https://madebyme.today/><span>root</span></a></li><li><a class=hover:decoration-dashed href=https://madebyme.today/blog/><span>Blog</span></a></li><li><a class=hover:decoration-dashed href=https://madebyme.today/blog/shamirs-secret-sharing/><span>How to Become Immortal 101: Shamir&rsquo;s Secret Sharing</span></a></li></ul></nav><article class=entry><script type=application/ld+json>{"@context":"https://schema.org/","@type":"BlogPosting","name":"How to Become Immortal 101: Shamir's Secret Sharing","headline":"How to Become Immortal 101: Shamir's Secret Sharing | MadeByMe","alternativeHeadline":"How to Become Immortal 101: Shamir's Secret Sharing | MadeByMe","url":"https://madebyme.today/blog/shamirs-secret-sharing/","datePublished":"2024-08-21T19:55:43+02:00","inLanguage":"en-us","wordCount":1254,"isFamilyFriendly":"true","copyrightYear":"2024","copyrightHolder":{"@context":"https://schema.org/","@type":"Person","givenName":"Kamil","familyName":"Rusin","name":"Kamil Rusin"},"description":"Have you ever wondered how to protect your master password from getting lost? Or how to create a perfect democracy where nuke access is shared between most important people in the government equally? Or how to achieve immortality by splitting your soul and putting the pieces into objects? \u0026#x1fa84;\nIf so, then you\u0026rsquo;ve come to the right place. Join me, my friend, on this discovery of Shamir\u0026rsquo;s secret sharing.\n","publisher":{"@context":"https://schema.org/","@type":"Organization","name":"MadeByMe","url":"https://madebyme.today/"},"keywords":["Algorithm"],"mainEntityOfPage":"true","articleBody":"Have you ever wondered how to protect your master password from getting lost? Or how to create a perfect democracy where nuke access is shared between most important people in the government equally? Or how to achieve immortality by splitting your soul and putting the pieces into objects? \u0026#x1fa84;\nIf so, then you\u0026rsquo;ve come to the right place. Join me, my friend, on this discovery of Shamir\u0026rsquo;s secret sharing.\nChapter 1: Learning dark magic Shamir\u0026rsquo;s secret sharing is a secret sharing algorithm first formulated by Adi Shamir in How to share a secret (1979-11-01). It allows to split and distribute a secret among a group, in such a way that no single person from that group can recreate the secret. Only when a quorum decides to merge their shards, the secret can be recreated.\nAt its core, Shamir\u0026rsquo;s secret sharing is based on polynomial interpolation and is really easy to understand conceptually. Once of its main features is that the group size ($n$) and the minimal quorum size ($k$) do not have to be the same number. Obviously, $n \\ge k$, but other than that we can adjust those numbers to match our needs.\nOK, but how does this work?\nLet\u0026rsquo;s start by encoding our secret as a number. (Technical details will be discussed in Chapter 3, so for now let\u0026rsquo;s just say it\u0026rsquo;s possible.) We get $S = 42$.\nNext step is to select $n$ and $k$. Let\u0026rsquo;s say we share our encoded master password (secret) with 8 friend and any 4 of them can reconstruct the secret. That gives us $n = 8$ and $k = 4$.\nTo get the shards, we need to construct a polynomial of degree $k - 1$, where coefficient zero ($a_0$) is the secret; the rest of coefficients are chosen randomly.\n$$ f(x) = 165x^3 + 51x^2 + 98x + 42 $$\nWe can clearly see that $f(0) = 42$ is our secret. Our shards are $f(1), f(2), \u0026hellip;, f(n)$, which gives us:\n$$ \\begin{array}{ l l } (1, 356) \u0026amp; (2, 1762) \\\\[0.25em] (3, 5250) \u0026amp; (4, 11810) \\\\[0.25em] (5, 22432) \u0026amp; (6, 38106) \\\\[0.25em] (7, 59822) \u0026amp; (8, 88570) \\end{array} $$\n\u0026hellip;if coupled with indexes. And that\u0026rsquo;s it! Any 4 of these numbers can be used to reconstruct the polynomial, thus allowing to calculate the secret $\\big(f(0)\\big)$.\nThat\u0026rsquo;s half of our dark magic theory. Let\u0026rsquo;s learn how to undo what we did.\nReverting spell\u0026rsquo;s effect To reconstruct the secret we need any 4 shards. Chosen randomly these are:\n$$ \\begin{aligned} \u0026amp;(2, 1762) \\\\[0.25em] \u0026amp;(4, 11810) \\\\[0.25em] \u0026amp;(6, 38106) \\\\[0.25em] \u0026amp;(8, 88570) \\end{aligned} $$\nThere are a lot of ways we can reconstruct a polynomial from a series of points. If you like math you might be tempted to use the formula for Lagrange interpolating polynomial:\n$$ \\begin{aligned} f(x) \u0026amp;= \\sum_{j=0}^{n}\\big(y_j \\cdot \\ell_j(x)\\big) \\\\[0.25em] \\ell_j(x) \u0026amp;= \\prod_{\\substack{0 \\le m \\le k \\\\ m \\ne j}} \\frac{x - x_m}{x_j - x_m} \\end{aligned} $$\nOr \u0026mdash; if you\u0026rsquo;re lazy \u0026mdash; use scipy:\n1\u0026gt;\u0026gt;\u0026gt; from scipy.interpolate import lagrange 2\u0026gt;\u0026gt;\u0026gt; lagrange([2, 4, 6, 8], [1762, 11810, 38106, 88570]) 3poly1d([165., 51., 98., 42.]) These, indeed, are our polynomial coefficients. Even without reconstruction, we can clearly see that $f(0) = 42$; secret recovered. \u0026#x1f44c;\nChapter 2: Protecting our enchantments from counter-curses Frankly, to almost any curse, there\u0026rsquo;s a counter-curse. A counter-curse for Shamir\u0026rsquo;s secret sharing is integer arithmetic.\nA good secret sharing algorithm should have two characteristics:\nSecret can be computed with any $k$ or more shards. Knowledge of any number of shards less than $k$ makes does not reveal any information about the secret. In other words all possible values of the secret should be equally probable. While (1) is still true, (2) is not so much. Let\u0026rsquo;s go over this step by step; assume that we only know three out of four required shards:\n$$ \\begin{aligned} \u0026amp;(1, 456) \\\\[0.25em] \u0026amp;(2, 1762) \\\\[0.25em] \u0026amp;(3, 5250) \\end{aligned} $$\nIt gives us:\n$$ \\begin{alignat}{1} f(1) \u0026amp;= S + a_1 + a_2 + a_3 = 356 \\\\[0.25em] f(2) \u0026amp;= S + 2a_1 + 4a_2 + 8a_3 = 1762 \\\\[0.25em] f(3) \u0026amp;= S + 3a_1 + 9a_2 + 27a_3 = 5250 \\end{alignat} $$\nBy solving $(1)$ for $a_1$ and substituting $a_1$ in $(2)$ we get:\n$$ \\begin{alignat}{1} a_1 \u0026amp;= 356 - S - a_2 - a_3 \\\\[0.25em] 1050 \u0026amp;= - S + 2a_2 + 6a_3 \\end{alignat} $$\nSolving $(5)$ for $a_2$ and substituting $a_1$, and $a_2$ in $(3)$ we get:\n$$ \\begin{alignat}{1} 5250 \u0026amp;= S + 3(356 - S - (525 + \\frac{S}{2} - 3a_3) - a_3) + 9(525 + \\frac{S}{2} - 3a_3) + 27a_3 \\\\[0.25em] S \u0026amp;= -6(a_3 - 172) \\end{alignat} $$\nFrom $(7)$ we conclude that $S$ is even. (See WolframAlpha.)\nFinite field arithmetic We can protect from this by using finite field arithmetic. In simple terms \u0026mdash; those of you who know math don\u0026rsquo;t kill me please \u0026mdash; finite field arithmetic is applying modulo to your calculation. So, $GF(256)$ is doing calculations over $mod \\ 256$.\nWith the Galois field of order 256 our polynomial becomes:\n$$ f(x) = 165x^3 + 51x^2 + 98x + 42 \\mod 256 $$\nWhich produces these shards:\n$$ \\begin{array}{ l l } (1, 100) \u0026amp; (2, 226) \\\\[0.25em] (3, 130) \u0026amp; (4, 34) \\\\[0.25em] (5, 160) \u0026amp; (6, 218) \\\\[0.25em] (7, 174) \u0026amp; (8, 250) \\end{array} $$\nBy repeating the attack above we could conclude that\n$$ S \\equiv -6(a_3 - 172) \\mod 256 $$\nHowever, it does not provide any additional information.\nChapter 3: Wands out! Time to practice NB: SSS with a Galois field is math; it doesn\u0026rsquo;t mean it\u0026rsquo;s easy to use in practice. The catch is that the order of the Galois field must be greater than the secret $S$. This is problematic if we decide to split a large enough secret. A naive way of encoding an arbitrary string as a number can be done with base10, or with something like:\n1int(\u0026#39;An arbitrary large secret. Lorem ipsum dolor sit amet, consectetur adipiscing elit.\u0026#39;.encode().hex(), 16) Do you want to guess how many digits it has?\nSpoiler! It\u0026rsquo;s 200.\n1\u0026gt;\u0026gt;\u0026gt; a = int(\u0026#39;An arbitrary large secret. Lorem ipsum dolor sit amet, consectetur adipiscing elit.\u0026#39;.encode().hex(), 16) 2\u0026gt;\u0026gt;\u0026gt; a 319563893103164139046164760092383861391703768554892418063070031848050953623578314862989468034439094655520808050846734560200990268693032238066103008403886443361299427067274060838050276743694708128707630 4\u0026gt;\u0026gt;\u0026gt; len(str(a)) 5200 A known solution for this is to split the secret into chunks and apply SSS to each chunk individually:\n1chunks = [int(b) for b in \u0026#39;An arbitrary large secret. Lorem ipsum dolor sit amet, consectetur adipiscing elit.\u0026#39;.encode()] 2shards = sss(chunks, k=4, n=8) Shout-out to RustySecrets where I first saw this idea. (Frankly, this project seems to be abandoned.) Still, on the web, there\u0026rsquo;re numerous other SSS implementations:\nShamir Secret Sharing Scheme Shamir Secret Sharing @ asecuritysite.com Simple Shamir\u0026rsquo;s Secret Sharing sss @ point-at-infinity.org \u0026hellip; P.S. Why did I wrote this blog post? Initially, I had a grand idea of implementing SSS from scratch and writing about technical challenges along the way. That was on 2024-06-06. In that time I got busy and distracted with other things, so SSS had been moved to the back of my head and stayed there. I had some time today, so I\u0026rsquo;ve decided to quickly finish this blog post and make it on-paper-only without any code.\nThere\u0026rsquo;s nothing new here. If you take a look at Wikipedia\u0026rsquo;s Shamir\u0026rsquo;s secret sharing, you\u0026rsquo;ll see that it heavily inspired this blog post; it\u0026rsquo;s basically Wikipedia\u0026rsquo;s with Harry Potter\u0026rsquo;s twist in it. Still, I find value in writing about subjects in my own words. Helps me understand them better and SSS is something I wanted to understand for some time now.\n","author":{"@context":"https://schema.org/","@type":"Person","gender":"male","email":"kamil.jakub.rusin@gmail.com","givenName":"Kamil","familyName":"Rusin","name":"Kamil Rusin","jobTitle":"Software Engineer","nationality":{"@context":"https://schema.org/","@type":"Country","name":"PL"},"alumniOf":{"@context":"https://schema.org/","@type":"CollegeOrUniversity","url":"https://www.pk.edu.pl/","name":"The Cracow University of Technology"},"url":"https:\/\/madebyme.today\/"}}</script><script type=application/ld+json>{"@context":"https://schema.org/","@type":"WPHeader","@id":"#article-title","cssSelector":"#article-title"}</script><header class=mt-3><h1 id=article-title class=text-3xl>How to Become Immortal 101: Shamir&rsquo;s Secret Sharing</h1></header><footer class="inline-flex gap-1 flex-wrap"><time datetime=2024-08-21T19:55:43>2024/08/21
</time><span class=select-none>¬∑</span>
<span>6 min</span>
<span class=select-none>¬∑</span>
<a class="btn btn-xs" role=button href=https://madebyme.today/tags/algorithm/>#Algorithm</a></footer><details class="collapse bg-base-200 my-3"><summary class="collapse-title text-lg font-medium">Table Of Contents</summary><div class="collapse-content table-of-contents markdown-body"><nav id=TableOfContents><ul><li><a href=#chapter-1-learning-dark-magic>Chapter 1: Learning dark magic</a><ul><li><a href=#reverting-spells-effect>Reverting spell&rsquo;s effect</a></li></ul></li><li><a href=#chapter-2-protecting-our-enchantments-from-counter-curses>Chapter 2: Protecting our enchantments from counter-curses</a><ul><li><a href=#finite-field-arithmetic>Finite field arithmetic</a></li></ul></li><li><a href=#chapter-3-wands-out-time-to-practice>Chapter 3: Wands out! Time to practice</a></li><li><a href=#ps-why-did-i-wrote-this-blog-post>P.S. Why did I wrote this blog post?</a></li></ul></nav></div></details><main class="my-4 markdown-body"><p>Have you ever wondered how to protect your master password from getting lost? Or how to create a <em>perfect</em> democracy
where nuke access is shared between most important people in the government <em>equally</em>? Or how to achieve immortality by
splitting your soul and putting the pieces into objects? &#x1fa84;</p><p>If so, then you&rsquo;ve come to the right place. Join me, my friend, on this discovery of <a href=https://en.wikipedia.org/wiki/Shamir%27s_secret_sharing>Shamir&rsquo;s secret sharing</a>.</p><h2 id=chapter-1-learning-dark-magic class="my-8 md:my-12 flex items-center justify-center"><hr class="w-1/12 border-neutral shrink-0 hidden md:block"><a class="font-bold text-center w-full md:w-fit mx-4 !no-underline !link-neutral" href=#chapter-1-learning-dark-magic aria-label=Anchor>Chapter 1: Learning dark magic</a><hr class="w-1/12 border-neutral shrink-0 hidden md:block"></h2><p><a href=https://en.wikipedia.org/wiki/Shamir%27s_secret_sharing>Shamir&rsquo;s secret sharing</a> is a secret sharing algorithm first formulated by <a href=https://en.wikipedia.org/wiki/Adi_Shamir>Adi Shamir</a> in <a href=https://dl.acm.org/doi/10.1145/359168.359176>How to share a secret</a>
(<time datetime=1979-11-01>1979-11-01</time>). It allows to split and distribute a secret among a group, in such a way that no single
person from that group can recreate the secret. Only when a <a href=https://en.wikipedia.org/wiki/Quorum>quorum</a> decides to merge their <em>shards</em>, the secret can be
recreated.</p><p>At its core, <a href=https://en.wikipedia.org/wiki/Shamir%27s_secret_sharing>Shamir&rsquo;s secret sharing</a> is based on polynomial interpolation and is really easy to understand
conceptually. Once of its main features is that the group size ($n$) and the minimal <a href=https://en.wikipedia.org/wiki/Quorum>quorum</a> size ($k$) do not have
to be the same number. Obviously, $n \ge k$, but other than that we can adjust those numbers to match our needs.</p><p><em>OK, but how does this work?</em></p><p>Let&rsquo;s start by encoding our secret as a number. (Technical details will be discussed in
<a href=#chapter-3-wands-out-time-to-practice>Chapter 3</a>, so for now let&rsquo;s just say it&rsquo;s possible.) We get $S = 42$.</p><p>Next step is to select $n$ and $k$. Let&rsquo;s say we share our encoded master password (secret) with 8 friend and any 4 of
them can reconstruct the secret. That gives us $n = 8$ and $k = 4$.</p><p>To get the shards, we need to construct a polynomial of degree $k - 1$, where coefficient zero ($a_0$) is the secret;
the rest of coefficients are chosen randomly.</p><p>$$
f(x) = 165x^3 + 51x^2 + 98x + 42
$$</p><p>We can clearly see that $f(0) = 42$ is our secret. Our shards are $f(1), f(2), &mldr;, f(n)$, which gives us:</p><p>$$
\begin{array}{ l l }
(1, 356) & (2, 1762) \\[0.25em]
(3, 5250) & (4, 11810) \\[0.25em]
(5, 22432) & (6, 38106) \\[0.25em]
(7, 59822) & (8, 88570)
\end{array}
$$</p><p>&mldr;if coupled with indexes. And that&rsquo;s it! Any 4 of these numbers can be used to reconstruct the polynomial, thus
allowing to calculate the secret $\big(f(0)\big)$.</p><p>That&rsquo;s half of our dark magic theory. Let&rsquo;s learn how to undo what we did.</p><h3 id=reverting-spells-effect class="my-8 md:my-12 flex items-center justify-center"><hr class="w-1/12 border-neutral shrink-0 hidden md:block"><a class="font-bold text-center w-full md:w-fit mx-4 !no-underline !link-neutral" href=#reverting-spells-effect aria-label=Anchor>Reverting spell&rsquo;s effect</a><hr class="w-1/12 border-neutral shrink-0 hidden md:block"></h3><p>To reconstruct the secret we need any 4 shards. Chosen randomly these are:</p><p>$$
\begin{aligned}
&(2, 1762) \\[0.25em]
&(4, 11810) \\[0.25em]
&(6, 38106) \\[0.25em]
&(8, 88570)
\end{aligned}
$$</p><p>There are a lot of ways we can reconstruct a polynomial from a series of points. If you like math you might be tempted
to use the formula for <a href=https://en.wikipedia.org/wiki/Lagrange_polynomial>Lagrange interpolating polynomial</a>:</p><p>$$
\begin{aligned}
f(x) &= \sum_{j=0}^{n}\big(y_j \cdot \ell_j(x)\big) \\[0.25em]
\ell_j(x) &= \prod_{\substack{0 \le m \le k \\ m \ne j}} \frac{x - x_m}{x_j - x_m}
\end{aligned}
$$</p><p>Or &mdash; if you&rsquo;re lazy &mdash; use <a href=https://scipy.org/><code>scipy</code></a>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=ln id=hl-0-1><a class=lnlinks href=#hl-0-1>1</a></span><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=kn>from</span> <span class=nn>scipy.interpolate</span> <span class=kn>import</span> <span class=n>lagrange</span>
</span></span><span class=line><span class=ln id=hl-0-2><a class=lnlinks href=#hl-0-2>2</a></span><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>lagrange</span><span class=p>([</span><span class=mi>2</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>6</span><span class=p>,</span> <span class=mi>8</span><span class=p>],</span> <span class=p>[</span><span class=mi>1762</span><span class=p>,</span> <span class=mi>11810</span><span class=p>,</span> <span class=mi>38106</span><span class=p>,</span> <span class=mi>88570</span><span class=p>])</span>
</span></span><span class=line><span class=ln id=hl-0-3><a class=lnlinks href=#hl-0-3>3</a></span><span class=cl><span class=n>poly1d</span><span class=p>([</span><span class=mf>165.</span><span class=p>,</span>  <span class=mf>51.</span><span class=p>,</span>  <span class=mf>98.</span><span class=p>,</span>  <span class=mf>42.</span><span class=p>])</span>
</span></span></code></pre></div><p>These, indeed, are our polynomial coefficients. Even without reconstruction, we can clearly see that $f(0) = 42$;
secret recovered. &#x1f44c;</p><h2 id=chapter-2-protecting-our-enchantments-from-counter-curses class="my-8 md:my-12 flex items-center justify-center"><hr class="w-1/12 border-neutral shrink-0 hidden md:block"><a class="font-bold text-center w-full md:w-fit mx-4 !no-underline !link-neutral" href=#chapter-2-protecting-our-enchantments-from-counter-curses aria-label=Anchor>Chapter 2: Protecting our enchantments from counter-curses</a><hr class="w-1/12 border-neutral shrink-0 hidden md:block"></h2><p>Frankly, to <em>almost</em> any curse, there&rsquo;s a <a href=https://en.wiktionary.org/wiki/countercurse>counter-curse</a>. A counter-curse for <a href=https://en.wikipedia.org/wiki/Shamir%27s_secret_sharing>Shamir&rsquo;s secret sharing</a> is integer
arithmetic.</p><p>A good secret sharing algorithm should have two characteristics:</p><ol><li>Secret can be computed with any $k$ or more shards.</li><li>Knowledge of any number of shards less than $k$ makes does not reveal any information about the secret. In other
words all possible values of the secret should be equally probable.</li></ol><p>While (1) is still true, (2) is not so much. Let&rsquo;s go over this step by step; assume that we only know three out of four
required shards:</p><p>$$
\begin{aligned}
&(1, 456) \\[0.25em]
&(2, 1762) \\[0.25em]
&(3, 5250)
\end{aligned}
$$</p><p>It gives us:</p><p>$$
\begin{alignat}{1}
f(1) &= S + a_1 + a_2 + a_3 = 356 \\[0.25em]
f(2) &= S + 2a_1 + 4a_2 + 8a_3 = 1762 \\[0.25em]
f(3) &= S + 3a_1 + 9a_2 + 27a_3 = 5250
\end{alignat}
$$</p><p>By solving $(1)$ for $a_1$ and substituting $a_1$ in $(2)$ we get:</p><p>$$
\begin{alignat}{1}
a_1 &= 356 - S - a_2 - a_3 \\[0.25em]
1050 &= - S + 2a_2 + 6a_3
\end{alignat}
$$</p><p>Solving $(5)$ for $a_2$ and substituting $a_1$, and $a_2$ in $(3)$ we get:</p><p>$$
\begin{alignat}{1}
5250 &= S + 3(356 - S - (525 + \frac{S}{2} - 3a_3) - a_3) + 9(525 + \frac{S}{2} - 3a_3) + 27a_3 \\[0.25em]
S &= -6(a_3 - 172)
\end{alignat}
$$</p><p>From $(7)$ we conclude that $S$ is even. (See <a href="https://www.wolframalpha.com/input?i=solve+%7BS+%2B+a_1+%2B+a_2+%2B+a_3+%3D+356%2CS+%2B+2a_1+%2B+4a_2+%2B+8a_3+%3D+1762%2CS+%2B+3a_1+%2B+9a_2+%2B+27a_3+%3D+5250%7D+for+S+">WolframAlpha</a>.)</p><h3 id=finite-field-arithmetic class="my-8 md:my-12 flex items-center justify-center"><hr class="w-1/12 border-neutral shrink-0 hidden md:block"><a class="font-bold text-center w-full md:w-fit mx-4 !no-underline !link-neutral" href=#finite-field-arithmetic aria-label=Anchor>Finite field arithmetic</a><hr class="w-1/12 border-neutral shrink-0 hidden md:block"></h3><p>We can protect from this by using <a href=https://en.wikipedia.org/wiki/Finite_field_arithmetic>finite field arithmetic</a>. In simple terms &mdash; those of you who know math don&rsquo;t kill
me please &mdash; finite field arithmetic <em>is</em> applying modulo to your calculation. So, $GF(256)$ is doing calculations
over $mod \ 256$.</p><p>With the Galois field of order 256 our polynomial becomes:</p><p>$$
f(x) = 165x^3 + 51x^2 + 98x + 42 \mod 256
$$</p><p>Which produces these shards:</p><p>$$
\begin{array}{ l l }
(1, 100) & (2, 226) \\[0.25em]
(3, 130) & (4, 34) \\[0.25em]
(5, 160) & (6, 218) \\[0.25em]
(7, 174) & (8, 250)
\end{array}
$$</p><p>By repeating the attack above we <em>could</em> conclude that</p><p>$$
S \equiv -6(a_3 - 172) \mod 256
$$</p><p>However, it does not provide any additional information.</p><h2 id=chapter-3-wands-out-time-to-practice class="my-8 md:my-12 flex items-center justify-center"><hr class="w-1/12 border-neutral shrink-0 hidden md:block"><a class="font-bold text-center w-full md:w-fit mx-4 !no-underline !link-neutral" href=#chapter-3-wands-out-time-to-practice aria-label=Anchor>Chapter 3: Wands out! Time to practice</a><hr class="w-1/12 border-neutral shrink-0 hidden md:block"></h2><p><strong>NB</strong>: SSS with a Galois field is <em>math</em>; it doesn&rsquo;t mean it&rsquo;s easy to use in practice. The catch is that the order of
the Galois field must be greater than the secret $S$. This is problematic if we decide to split a <em>large enough</em> secret.
A naive way of encoding an arbitrary string as a number can be done with <em>base10</em>, or with something like:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=ln id=hl-1-1><a class=lnlinks href=#hl-1-1>1</a></span><span class=cl><span class=nb>int</span><span class=p>(</span><span class=s1>&#39;An arbitrary large secret. Lorem ipsum dolor sit amet, consectetur adipiscing elit.&#39;</span><span class=o>.</span><span class=n>encode</span><span class=p>()</span><span class=o>.</span><span class=n>hex</span><span class=p>(),</span> <span class=mi>16</span><span class=p>)</span>
</span></span></code></pre></div><p>Do you want to guess how many digits it has?</p><details class="collapse collapse-arrow alert alert-spoiler text-left p-0 text-text flex flex-col items-start gap-0"><summary class="collapse-title text-spoiler-content flex gap-1 items-center !my-0 !text-lg">Spoiler!</summary><div class="collapsible-content p-4 w-full"><div class="mt-2 w-full text-base-content markdown-body"><p>It&rsquo;s 200.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=ln id=hl-0-1><a class=lnlinks href=#hl-0-1>1</a></span><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=s1>&#39;An arbitrary large secret. Lorem ipsum dolor sit amet, consectetur adipiscing elit.&#39;</span><span class=o>.</span><span class=n>encode</span><span class=p>()</span><span class=o>.</span><span class=n>hex</span><span class=p>(),</span> <span class=mi>16</span><span class=p>)</span>
</span></span><span class=line><span class=ln id=hl-0-2><a class=lnlinks href=#hl-0-2>2</a></span><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>a</span>
</span></span><span class=line><span class=ln id=hl-0-3><a class=lnlinks href=#hl-0-3>3</a></span><span class=cl><span class=mi>19563893103164139046164760092383861391703768554892418063070031848050953623578314862989468034439094655520808050846734560200990268693032238066103008403886443361299427067274060838050276743694708128707630</span>
</span></span><span class=line><span class=ln id=hl-0-4><a class=lnlinks href=#hl-0-4>4</a></span><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>len</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>a</span><span class=p>))</span>
</span></span><span class=line><span class=ln id=hl-0-5><a class=lnlinks href=#hl-0-5>5</a></span><span class=cl><span class=mi>200</span>
</span></span></code></pre></div></div></div></details><p>A known solution for this is to split the secret into chunks and apply SSS to each chunk individually:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=ln id=hl-2-1><a class=lnlinks href=#hl-2-1>1</a></span><span class=cl><span class=n>chunks</span> <span class=o>=</span> <span class=p>[</span><span class=nb>int</span><span class=p>(</span><span class=n>b</span><span class=p>)</span> <span class=k>for</span> <span class=n>b</span> <span class=ow>in</span> <span class=s1>&#39;An arbitrary large secret. Lorem ipsum dolor sit amet, consectetur adipiscing elit.&#39;</span><span class=o>.</span><span class=n>encode</span><span class=p>()]</span>
</span></span><span class=line><span class=ln id=hl-2-2><a class=lnlinks href=#hl-2-2>2</a></span><span class=cl><span class=n>shards</span> <span class=o>=</span> <span class=n>sss</span><span class=p>(</span><span class=n>chunks</span><span class=p>,</span> <span class=n>k</span><span class=o>=</span><span class=mi>4</span><span class=p>,</span> <span class=n>n</span><span class=o>=</span><span class=mi>8</span><span class=p>)</span>
</span></span></code></pre></div><p>Shout-out to <a href=https://github.com/SpinResearch/RustySecrets>RustySecrets</a> where I first saw this idea. (Frankly, this
project seems to be abandoned.) Still, on the web, there&rsquo;re numerous other SSS implementations:</p><ul><li><a href=https://iancoleman.io/shamir/>Shamir Secret Sharing Scheme</a></li><li><a href=https://asecuritysite.com/shares/shamir>Shamir Secret Sharing @ asecuritysite.com</a></li><li><a href=https://simon-frey.com/s4/>Simple Shamir&rsquo;s Secret Sharing</a></li><li><a href=http://point-at-infinity.org/ssss/demo.html>sss @ point-at-infinity.org</a></li><li>&mldr;</li></ul><h2 id=ps-why-did-i-wrote-this-blog-post class="my-8 md:my-12 flex items-center justify-center"><hr class="w-1/12 border-neutral shrink-0 hidden md:block"><a class="font-bold text-center w-full md:w-fit mx-4 !no-underline !link-neutral" href=#ps-why-did-i-wrote-this-blog-post aria-label=Anchor>P.S. Why did I wrote this blog post?</a><hr class="w-1/12 border-neutral shrink-0 hidden md:block"></h2><p>Initially, I had a grand idea of implementing SSS from scratch and writing about technical challenges along the way.
That was on <time datetime=2024-06-06>2024-06-06</time>. In that time I got busy and distracted with other things, so SSS had been
moved to the back of my head and <em>stayed</em> there. I had some time today, so I&rsquo;ve decided to quickly finish this blog post
and make it <em>on-paper-only</em> without any code.</p><p>There&rsquo;s nothing new here. If you take a look at Wikipedia&rsquo;s <a href=https://en.wikipedia.org/wiki/Shamir%27s_secret_sharing>Shamir&rsquo;s secret sharing</a>, you&rsquo;ll see that it heavily
<em>inspired</em> this blog post; it&rsquo;s basically Wikipedia&rsquo;s with Harry Potter&rsquo;s twist in it. Still, I find value in writing
about subjects in my own words. Helps me understand them better and SSS is something I wanted to understand for some
time now.</p></main><ul class="menu menu-horizontal menu-xs sm:menu-md gap-y-1 rounded-box p-0 justify-center"><li><a class=tooltip role=button href="https://facebook.com/sharer/sharer.php?u=https%3A%2F%2Fmadebyme.today%2Fblog%2Fshamirs-secret-sharing%2F&amp;t=How+to+Become+Immortal+101%3A+Shamir%27s+Secret+Sharing+-+MadeByMe" aria-label="Share on Facebook" rel=me target=_blank><span class=inline-svg><svg width="32" height="32" viewBox="0 0 24 24" fill="none"><path fill="none" d="M22 12C22 6.47714 17.5229 1.99999 12 1.99999 6.47715 1.99999 2 6.47714 2 12c0 4.9913 3.65686 9.1283 8.4375 9.8785V14.8906H7.89844V12H10.4375V9.79687c0-2.50625 1.4929-3.89063 3.7771-3.89063C15.3087 5.90624 16.4531 6.10155 16.4531 6.10155V8.56249h-1.261c-1.2422.0-1.6296.77084-1.6296 1.56171V12h2.7734L15.8926 14.8906H13.5625v6.9879C18.3431 21.1283 22 16.9913 22 12z" stroke-linejoin="round"/></svg></span></a></li><li><a class=tooltip role=button href="https://twitter.com/intent/tweet/?url=https%3A%2F%2Fmadebyme.today%2Fblog%2Fshamirs-secret-sharing%2F&amp;text=How+to+Become+Immortal+101%3A+Shamir%27s+Secret+Sharing+-+MadeByMe" aria-label="Share on Twitter" rel=me target=_blank><span class=inline-svg><svg width="32" height="32" viewBox="0 0 24 24" fill="none"><path fill="none" d="M21.9999 5.9246C21.2644 6.25051 20.4744 6.47071 19.6437 6.57025 20.4911 6.06289 21.1411 5.25782 21.4477 4.29948c-.7928.47036-1.671.81212-2.6055.99533C18.0935 4.49855 17.0277 4 15.8474 4c-2.2655.0-4.1029 1.8374-4.1029 4.10464C11.7445 8.42526 11.7815 8.73707 11.8502 9.03832 8.43877 8.86656 5.41666 7.23263 3.39252 4.75046c-.35233.60777-.55492 1.31243-.55492 2.06289.0 1.42342.72492 2.68035 1.82507 3.41585C3.98972 10.2072 3.35729 10.0231 2.80413 9.71567V9.76852c0 1.98798 1.41373 3.64658 3.29164 4.02358C5.75049 13.8855 5.38847 13.9348 5.015 13.9348 4.75075 13.9348 4.49267 13.9102 4.24252 13.8626c.52233 1.6295 2.03735 2.8169 3.83335 2.8486-1.40492 1.101-3.1745 1.7572-5.09645 1.7572C2.64823 18.4684 2.32144 18.449 1.99994 18.4112c1.81626 1.1653 3.97252 1.8435 6.28909 1.8435 7.54867.0 11.67537-6.2521 11.67537-11.67441C19.9644 8.40412 19.9599 8.2262 19.952 8.05003 20.7536 7.47045 21.4494 6.74905 21.9982 5.92724L21.9999 5.9246z" stroke-linejoin="round"/></svg></span></a></li><li><a class=tooltip role=button href="http://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fmadebyme.today%2Fblog%2Fshamirs-secret-sharing%2F&amp;title=How+to+Become+Immortal+101%3A+Shamir%27s+Secret+Sharing+-+MadeByMe&amp;source=https%3A%2F%2Fmadebyme.today%2F" aria-label="Share on LinkedIn" rel=me target=_blank><span class=inline-svg><svg width="32" height="32" viewBox="0 0 24 24" fill="none"><path fill="none" d="M22 3.47059V20.5294C22 20.9194 21.845 21.2935 21.5692 21.5693 21.2935 21.8451 20.9194 22 20.5294 22H3.47056C3.08053 22 2.70648 21.8451 2.43069 21.5693 2.15491 21.2935 1.99997 20.9194 1.99997 20.5294V3.47059c0-.39003.15494-.76408.43072-1.03986C2.70648 2.15494 3.08053 2 3.47056 2H20.5294C20.9194 2 21.2935 2.15494 21.5692 2.43073 21.845 2.70651 22 3.08056 22 3.47059v0zM7.88232 9.64706H4.94115V19.0588H7.88232V9.64706zM8.14703 6.41176C8.14858 6.18929 8.10629 5.96869 8.02258 5.76255 7.93888 5.55642 7.81539 5.36879 7.65916 5.21039c-.15622-.15841-.34211-.2845-.54706-.37106S6.68715 4.70742 6.46468 4.70588H6.41173c-.45242.0-.88632.17973-1.20624.49964-.31991.31992-.49964.75382-.49964 1.20624.0.45243.17973.88633.49964 1.20625C5.52541 7.93792 5.95931 8.11765 6.41173 8.11765v0C6.63423 8.12312 6.85562 8.0847 7.06325 8.00458 7.27089 7.92447 7.46071 7.80422 7.62186 7.65072 7.78301 7.49722 7.91234 7.31346 8.00245 7.10996 8.09256 6.90646 8.14169 6.6872 8.14703 6.46471V6.41176zM19.0588 13.3412c0-2.8294-1.8-3.92943-3.5882-3.92943C14.8851 9.38245 14.3021 9.50715 13.7798 9.77345 13.2576 10.0397 12.8142 10.4383 12.4941 10.9294H12.4117V9.64706H9.64703V19.0588H12.5882V14.0529C12.5457 13.5403 12.7072 13.0315 13.0376 12.6372 13.368 12.2429 13.8407 11.9949 14.3529 11.9471H14.4647C15.4 11.9471 16.0941 12.5353 16.0941 14.0176v5.0412h2.9412L19.0588 13.3412z" stroke-linejoin="round"/></svg></span></a></li><li><a class=tooltip role=button href="https://www.reddit.com/submit?url=https%3A%2F%2Fmadebyme.today%2Fblog%2Fshamirs-secret-sharing%2F&amp;title=How+to+Become+Immortal+101%3A+Shamir%27s+Secret+Sharing+-+MadeByMe" aria-label="Share on Reddit" rel=me target=_blank><span class=inline-svg><svg width="32" height="32" viewBox="0 0 24 24" fill="none"><path fill="none" d="M8.83552 12.4444C8.72564 12.6089 8.66699 12.8022 8.66699 13 8.66699 13.1313 8.69285 13.2614 8.74311 13.3827 8.79336 13.504 8.86702 13.6142 8.95988 13.7071S9.16298 13.8736 9.2843 13.9239C9.40563 13.9741 9.53567 14 9.66699 14 9.86477 14 10.0581 13.9414 10.2226 13.8315c.164400000000001-.1099.2926-.2661.3683-.4488C10.6666 13.2 10.6864 12.9989 10.6478 12.8049 10.6092 12.6109 10.5139 12.4327 10.3741 12.2929 10.2342 12.153 10.0561 12.0578 9.86208 12.0192 9.6681 11.9806 9.46703 12.0004 9.2843 12.0761 9.10158 12.1518 8.9454 12.28 8.83552 12.4444z" stroke-linejoin="round"/><path fill="none" d="M13.7414 13.8715C13.9059 13.9814 14.0992 14.04 14.297 14.04L14.287 14.08C14.4226 14.0815 14.5571 14.0553 14.6822 14.0032 14.8074 13.9511 14.9207 13.874 15.0152 13.7767 15.1096 13.6795 15.1833 13.564 15.2318 13.4373 15.2802 13.3107 15.3024 13.1755 15.297 13.04 15.297 12.8422 15.2383 12.6489 15.1285 12.4844 15.0186 12.32 14.8624 12.1918 14.6797 12.1161 14.4969 12.0404 14.2959 12.0206 14.1019 12.0592 13.9079 12.0978 13.7297 12.193 13.5899 12.3329 13.45 12.4727 13.3548 12.6509 13.3162 12.8449 13.2776 13.0389 13.2974 13.24 13.3731 13.4227 13.4488 13.6054 13.577 13.7616 13.7414 13.8715z" stroke-linejoin="round"/><path fill="none" fill-rule="evenodd" clip-rule="evenodd" d="M21.997 12c0 5.5228-4.4772 10-10 10C6.47415 22 1.99699 17.5228 1.99699 12c0-5.52285 4.47716-10 10.00001-10 5.5228.0 10 4.47715 10 10zM18.4035 11.2154C18.5652 11.446 18.6567 11.7185 18.667 12 18.6712 12.2755 18.5974 12.5467 18.4541 12.782 18.3108 13.0174 18.1038 13.2073 17.857 13.33 17.8682 13.4765 17.8682 13.6236 17.857 13.77c0 2.24-2.61 4.06-5.83 4.06-3.22001.0-5.83001-1.82-5.83001-4.06-.01126-.1464-.01126-.2935.0-.44C6.00465 13.2416 5.83382 13.1125 5.69635 12.9515 5.55887 12.7906 5.45804 12.6017 5.40084 12.3979 5.34363 12.1941 5.33143 11.9803 5.36506 11.7713 5.3987 11.5623 5.47737 11.3632 5.59563 11.1876c.11826-.1755.27328-.3233.45431-.433.18103-.1096.38375-.178699999999999.5941-.2022C6.85439 10.5288 7.06736 10.5513 7.26816 10.6182 7.46897 10.6852 7.65283 10.795 7.80699 10.94 8.95926 10.1585 10.3149 9.73099 11.707 9.71L12.447 6.24C12.4553 6.19983 12.4715 6.16171 12.4946 6.12784 12.5178 6.09398 12.5474 6.06505 12.5819 6.04272 12.6163 6.0204 12.6548 6.00513 12.6951 5.99779 12.7355 5.99046 12.7769 5.99121 12.817 6l2.45.49C15.3866 6.28444 15.5756 6.12825 15.8001 6.04948 16.0245 5.9707 16.2696 5.9745 16.4915 6.06019 16.7134 6.14587 16.8975 6.30784 17.0107 6.51701 17.1239 6.72617 17.1589 6.96885 17.1093 7.20147 17.0597 7.4341 16.9288 7.64143 16.7402 7.78627 16.5515 7.9311 16.3174 8.00394 16.0799 7.99172 15.8423 7.9795 15.6169 7.88301 15.4441 7.71958 15.2713 7.55615 15.1624 7.33648 15.137 7.1L12.997 6.65l-.65 3.12C13.7222 9.7995 15.0594 10.2267 16.197 11 16.4002 10.805 16.6555 10.6729 16.9321 10.6196 17.2087 10.5664 17.4948 10.5943 17.7559 10.7 18.0169 10.8057 18.2419 10.9847 18.4035 11.2154z" stroke-linejoin="round"/><path fill="none" fill-rule="evenodd" clip-rule="evenodd" d="M9.75838 15.5632C9.75455 15.5601 9.74967 15.5585 9.74472 15.5587 9.73976 15.559 9.73506 15.5611 9.73155 15.5646 9.72804 15.5681 9.72596 15.5728 9.72572 15.5777L9.7257 15.5788c.6563.481 1.457.725099999999999 2.2709.6914C12.0035 16.2699 12.0104 16.2699 12.0173 16.2702 12.837 16.3042 13.6432 16.0564 14.3021 15.5686 14.2996 15.5663 14.2967 15.5644 14.2936 15.563 14.29 15.5615 14.2862 15.5607 14.2824 15.5607 14.2746 15.5606 14.2671 15.5636 14.2615 15.569 14.2525 15.5778 14.2429 15.5858 14.2327 15.5931 13.5829 16.0593 12.7942 16.2909 11.9958 16.2503 11.1982 16.2831 10.413 16.0439 9.76912 15.5716L9.75838 15.5632z" stroke-linejoin="round"/></svg></span></a></li></ul><div class="alert alert-info text-left text-text flex flex-col items-start gap-0"><h6 class="text-info-content flex gap-1 items-center !my-0 !text-lg"><span class=notification-bell><svg class="size-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor"><path stroke-linecap="round" stroke-linejoin="round" d="M14.857 17.082a23.848 23.848.0 005.454-1.31A8.967 8.967.0 0118 9.75V9A6 6 0 006 9v.75a8.967 8.967.0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714.0a24.255 24.255.0 01-5.714.0m5.714.0a3 3 0 11-5.714.0"/></svg></span>Interested in my work?</h6><div class="collapsible-content w-full"><div class="mt-2 w-full text-base-content"><p class=text-base-content>Consider subscribing to the
<a href=https://madebyme.today/index.xml class="link link-primary" title="RSS Feed">RSS Feed</a> or
joining my mailing list:
<a href=https://groups.google.com/g/madebyme-notifications class="link link-primary">madebyme-notifications on Google Groups </a>.</p><hr class="my-3 border-neutral-content w-full"><p class="text-sm text-neutral-content"><b>Disclaimer:</b> Only group owner (i.e. me) can view e-mail addresses
of group members. I will not share your e-mail with any third-parties
&mdash; it will be used exclusively to notify you about new blog posts.</p></div></div></div><hr class="my-4 border-neutral opacity-25"><script>let theme=getTheme(),giscusAttributes={src:"https://giscus.app/client.js","data-repo":"nathiss/nathiss.github.io","data-repo-id":"MDEwOlJlcG9zaXRvcnk4MDYyNjk2Ng==","data-category":"Announcements","data-category-id":"DIC_kwDOBM5FFs4CYJcb","data-mapping":"pathname","data-strict":"1","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":theme,"data-lang":"en","data-loading":"lazy",crossorigin:"anonymous",async:""},giscusScript=document.createElement("script");Object.entries(giscusAttributes).forEach(([e,t])=>giscusScript.setAttribute(e,t)),document.querySelector("article.entry").appendChild(giscusScript)</script></article></main><footer class="footer footer-center text-base-content p-4"><aside><p>Copyright &copy;
2023&ndash;2024
<span class=text-primary>Kamil</span>
Rusin
/
<a href=/privacy/ class="link link-primary">Privacy</a></p></aside></footer><div id=madebyme-consent-banner class="toast toast-end hidden w-full sm:w-auto min-w-0 sm:min-w-fit"><div class="card bg-base-100 shadow-xl max-w-lg border"><div class="card-body gap-4"><div class="flex justify-between"><h3 class=card-title>Cookies üç™</h3><button id=close-consent-button class="btn btn-square btn-sm" aria-label=Close><svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentcolor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 18 6M6 6l12 12"/></svg></button></div><div class="markdown-body text-sm"><p>This website uses <a href=https://marketingplatform.google.com/about/analytics/>Google Analytics 4</a> to gather data about page views and <a href=https://giscus.app/>Giscus</a> to support article comments.</p><p>This website respects the <a href=https://en.wikipedia.org/wiki/Do_Not_Track>Do Not Track</a> header field. If you do not wish to be tracked by Google Analytics, then please
enable <a href=https://en.wikipedia.org/wiki/Do_Not_Track>Do Not Track</a> for this domain.</p><p>If you wish to know more about data gathered on this website, read <a href=https://madebyme.today/privacy/>About Tracking & Data Collection</a>.</p></div><button id=consent-button class="btn btn-primary text-wrap">I acknowledge, don't show me this again</button></div></div></div><div id=page-progressbar class="fixed top-0 left-0 w-0 h-1 bg-primary-500 dark:bg-darkmode-primary-500 rounded-e-md" role=progressbar aria-valuemin=0 aria-valuenow=0 aria-valuemax=100></div><script>updateThemeCheckboxStatus(),giscusSendMessage({setConfig:{theme:getTheme()}})</script><script>const consentBannerKey="madebyme-given-consent",consentBannerVersion="9b17d89527a0803c9ca685eace5d3ec887d77f4173ad86d2d064b78ebbeb7497";document.getElementById("close-consent-button").addEventListener("click",()=>{document.getElementById("madebyme-consent-banner").classList.add("hidden")}),document.getElementById("consent-button").addEventListener("click",()=>{localStorage.setItem(consentBannerKey,consentBannerVersion),document.getElementById("madebyme-consent-banner").classList.add("hidden")});const localBannerVersion=localStorage.getItem(consentBannerKey);localBannerVersion!==consentBannerVersion&&document.getElementById("madebyme-consent-banner").classList.remove("hidden")</script><script defer>const readingProgressBar={progressBar:document.getElementById("page-progressbar"),update:()=>{const t=document.documentElement.scrollTop,n=document.documentElement.scrollHeight-document.documentElement.clientHeight,e=t/n*100;readingProgressBar.progressBar.setAttribute("aria-valuenow",Math.trunc(e)),readingProgressBar.progressBar.style.width=e+"%"}};document.addEventListener("scroll",readingProgressBar.update);const bodyResizeObserver=new ResizeObserver(e=>{readingProgressBar.update()});bodyResizeObserver.observe(document.body)</script><script type=application/ld+json>{"@context":"https://schema.org/","@type":"Webpage","mainContentOfPage":{"@context":"https://schema.org/","@type":"WebPageElement","cssSelector":"#site-main"},"primaryImageOfPage":"https://madebyme.today/polaris-1920x1080.webp"}</script><script type=application/ld+json>{"@context":"https://schema.org/","@type":"WebSite","name":"MadeByMe","alternateName":"MadeByMe","url":"https://madebyme.today/","description":"I'm Kamil; I work as a software engineer and this is a collection of all things I've been working on in my personal time.","disambiguatingDescription":"I'm Kamil; I work as a software engineer and this is a collection of all things I've been working on in my personal time.","isFamilyFriendly":"true","thumbnailUrl":"https://madebyme.today/favicons/favicon-180x180-box-light.png","image":"https://madebyme.today/favicons/favicon-180x180-box-light.png","inLanguage":"en-us","sameAs":["https://www.madebyme.today","https://www.madebyme.today/","https://madebyme.today","index.xml"],"author":{"@context":"https://schema.org/","@type":"Person","gender":"male","email":"kamil.jakub.rusin@gmail.com","givenName":"Kamil","familyName":"Rusin","name":"Kamil Rusin","jobTitle":"Software Engineer","nationality":{"@context":"https://schema.org/","@type":"Country","name":"PL"},"alumniOf":{"@context":"https://schema.org/","@type":"CollegeOrUniversity","url":"https://www.pk.edu.pl/","name":"The Cracow University of Technology"},"url":"https:\/\/madebyme.today\/"}}</script></body></html>